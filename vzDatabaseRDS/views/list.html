<div class="zt">
	<div class="ztTop">
		<div class="fl ctrBtns">
			<h2 class="inlineBlock ttl">列表</h2>
			<div class="inlineBlock" style="width:calc(100% - {{topTtlW}}px)" area-btn></div>
		</div>
		
		<div class="ctrlBox">
			<div class="tCtrl">
				<span class="btn_1" ng-click="createData()">新建</span>
			</div>
			<div class="sCtrl">
				<div class="searchBox0">
					<input type="text" class="scInput" placeholder="search" ng-model="searchData.name" />
					<span class="searchGo">GO</span>
				</div>
			</div>
		</div>
		<div class="clr"></div>
	</div>

	<!-- This directive in the '/yun/js/ngApp/ngDirective.js' -->
	<search></search>

	<div class="ztMain">
		<table class="tb1">
			<tr>
				<th ng-click="setOrderBy('name')">名字 <i ng-class="{true:'icon-sort-alpha-desc',false:'icon-sort-alpha-asc'}[tbItemsByTrue]"></i></th>
				<th ng-click="setOrderBy('age')">年龄 <i ng-class="{true:'icon-sort-numberic-desc',false:'icon-sort-numberic-asc'}[tbItemsByTrue]"></i></th>
				<th ng-click="setOrderBy('sex')">性别 <i ng-class="{true:'icon-sort-alpha-desc',false:'icon-sort-alpha-asc'}[tbItemsByTrue]"></i></th>
				<th class="ctrl">操作</th>
			</tr>
			<tr ng-init="ctrlShow = false" ng-repeat="tbItem in tbItems | orderBy : tbItemsBy : tbItemsByTrue" ng-class="$index%2==0?'bg':''">
				<td ng-bind="tbItem.name"></td>
				<td ng-bind="tbItem.age"></td>
				<td ng-bind="tbItem.sex"></td>
				<td class="ctrl" ng-class="ctrlShow?'on':''" ng-mouseleave="ctrlShow = false">
					<span class="ctrlBtn" ng-click="ctrlShow = !ctrlShow" onclick="fnCtrlBtn($(this))"><i ng-class="!ctrlShow?'icon-menu3':'icon-menu4'"></i></span>
					<ul class="ctrlList" ng-show="ctrlShow">
						<li><a class="btn" href="javascript:void(0);" ng-click="ctrlShow = !ctrlShow;edit(tbItem,$index)">修改</a></li>
						<li><a class="btn" href="javascript:void(0);" ng-click="ctrlShow = !ctrlShow;remove(tbItem,$index)">删除</a></li>
					</ul>
				</td>
			</tr>
		</table>
		<div id="pageBox" class="pageBox"></div>
	</div>
</div>

<script type="text/javascript">
	var ctrlListH = $(".ctrlList")[0].clientHeight
	function fnCtrlBtn(ths){
		var ctrlList = ths.next()
		if(!fnSelectPosition(ths, ctrlListH)){   //this function in common.js
			ctrlList.css({
				bottom:'0px',
				top:'auto'
			})
		}else{
			ctrlList.css({
				bottom:'auto',
				top:'0px'
			})
		}
	}
</script>